define(["jquery","kendo.all.min","core/config","core/notification","core/str"],function(e,r,o,t,c){return{orgtreeview:function(){var r=!0,c=!0;e("#id_courseoforgstructure").on("click",function(){if(1==r){var c=o.wwwroot+"/local/newsvnr/ajax.php";e.ajax(c,{type:"GET",processData:!0,data:{org_struct:1},contentType:"application/json"}).then(function(o){if(o.error)t.addNotification({message:o.error,type:"error"});else{void 0!==window.M.core_formchangechecker&&window.M.core_formchangechecker.reset_form_dirty_state();var c=JSON.parse(o),i=e("#treeview-orgstructure-course").kendoTreeView({dataSource:c}).data("kendoTreeView");e("#treeview-orgstructure-course").on("click",".k-item",function(){var r,o=i.select();o.length>0&&(r=i.dataItem(o)),r?(document.getElementById("id_courseoforgstructure").value=r.text,e("#id_courseoforgstructure").focus()):e("#log").text("Nothing selected"),e("#treeview-orgstructure-course").mouseleave(function(){e(this).hide(500)})})}r=!1}).fail(t.exception)}else e("#id_courseoforgstructure").on("click",function(){e("#treeview-orgstructure-course").show(500)})}),e("#id_category_cs").on("click",function(){if(1==c){var r=o.wwwroot+"/local/newsvnr/ajax.php";e.ajax(r,{type:"GET",processData:!0,data:{coursesetup:1},contentType:"application/json"}).then(function(r){if(r.error)t.addNotification({message:r.error,type:"error"});else{void 0!==window.M.core_formchangechecker&&window.M.core_formchangechecker.reset_form_dirty_state();var o=JSON.parse(r),i=e("#treeview-category-course").kendoTreeView({dataSource:o}).data("kendoTreeView");e("#treeview-category-course").on("click",".k-item",function(){var r,o=i.select();o.length>0&&(r=i.dataItem(o)),r?document.getElementById("id_category_cs").value=r.text:e("#log").text("Nothing selected"),e("#treeview-category-course").mouseleave(function(){e(this).hide(500)})})}c=!1}).fail(t.exception)}else e("#id_category_cs").on("click",function(){e("#treeview-category-course").show(500)})})}}});