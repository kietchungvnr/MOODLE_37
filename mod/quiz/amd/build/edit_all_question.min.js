define(["jquery","core/notification","core/templates","core/config","core/str"],function(e,a,t,n,i){return{editquestion:function(){e(document).ready(function(){e('input[name="all"]').bind("click",function(){e('input[name="slot[]"]').not(this).prop("checked",this.checked)})}),e("#selectmultiplecommand").click(function(){e('input[name="slot[]"]').addClass("d-none"),e("#changeallmark").addClass("d-none")}),e("#selectmultiplecancelcommand").click(function(){e('input[name="slot[]"]').removeClass("d-none"),e("#changeallmark").removeClass("d-none")}),e(document).on("click",".tag-item",function(){var a=e(this).attr("value");e(this).hasClass("active")?e('.tag-condition-container span[role="listitem"][data-value="'+a+'"]').trigger("click"):(e(".form-autocomplete-downarrow").trigger("click"),setTimeout(function(){e('.questionbankformforpopup li[role="option"]').attr("aria-selected","false"),e('.questionbankformforpopup li[data-value="'+a+'"]').attr("aria-selected","true"),e('.questionbankformforpopup li[data-value="'+a+'"]').trigger("click")},500))}),e("#changemark").click(function(){var t=new Array;if(e('input[name="slot[]"]:checked').each(function(){t.push(this.value)}),t.length>0){var o=window.location.href,c=new URL(o).searchParams.get("cmid"),r=e("#maxmark").val(),s=n.wwwroot+"/mod/quiz/edit_rest.php",l={type:"POST",data:{class:"resource",field:"updateallmaxmark",maxmark:r,listid:t.join(","),cmid:c,quizid:0,sesskey:M.cfg.sesskey},processData:!0};e.ajax(s,l).then(function(n){n.error?a.addNotification({message:n.error,type:"error"}):(t.forEach(a=>e("#slot-"+a+" .instancemaxmark.decimalplaces_2").text(n.instancemaxmark)),e(".mod_quiz_summarks").text(n.newsummarks),i.get_string("changeallmarksuccess","mod_quiz").then(function(e){alert(e)}).fail(a.exception))}).fail(a.exception)}})}}});