define(["jquery","core/notification","core/templates","core/config","core/str"],function(e,a,n,t,c){return{editquestion:function(){e(document).ready(function(){e('input[name="all"]').bind("click",function(){e('input[name="slot[]"]').not(this).prop("checked",this.checked)})}),e("#selectmultiplecommand").click(function(){e('input[name="slot[]"]').addClass("d-none"),e("#changeallmark").addClass("d-none")}),e("#selectmultiplecancelcommand").click(function(){e('input[name="slot[]"]').removeClass("d-none"),e("#changeallmark").removeClass("d-none")}),e("#changemark").click(function(){var n=new Array;if(e('input[name="slot[]"]:checked').each(function(){n.push(this.value)}),n.length>0){var i=window.location.href,o=new URL(i).searchParams.get("cmid"),s=e("#maxmark").val(),r=t.wwwroot+"/mod/quiz/edit_rest.php",l={type:"POST",data:{class:"resource",field:"updateallmaxmark",maxmark:s,listid:n.join(","),cmid:o,quizid:0,sesskey:M.cfg.sesskey},processData:!0};e.ajax(r,l).then(function(t){t.error?a.addNotification({message:t.error,type:"error"}):(n.forEach(a=>e("#slot-"+a+" .instancemaxmark.decimalplaces_2").text(t.instancemaxmark)),e(".mod_quiz_summarks").text(t.newsummarks),c.get_string("changeallmarksuccess","mod_quiz").then(function(e){alert(e)}).fail(a.exception))}).fail(a.exception)}})}}});