define(["jquery","core/config","core/str","core/notification"],function(e,i,t,a,r){"use strict";return{init:function(){e(document).ready(function(){e(".quiz-next-page").click(function(){e(".submitbtns .mod_quiz-next-nav").trigger("click")}),e(".quiz-prev-page").click(function(){e(".submitbtns .mod_quiz-prev-nav").trigger("click")});var i=e(".qnbutton.thispage"),t=i[0].outerHTML.search("quiznavbutton"),a=i[0].outerHTML.slice(t,t+15).replace('"'," "),r=e("#quiz-timer").width();e(".list-question-scroll").animate({scrollLeft:e("#"+a).offset().left-(r+10)},"fast"),e(".qnbutton.thispage").each(function(){var i=e(this).attr("href");e(this).attr("question",i),e(this).removeAttr("href")}),e(".qnbutton.thispage").click(function(){var i=e(this).attr("question");"#"!=i?e("body").animate({scrollTop:e(i).offset().top-40},"fast"):e("html, body").animate({scrollTop:"0"},"fast")}),setTimeout(function(){""==e("#quiz-time-left").text()&&e("#quiz-time-left").css({padding:0})},1e3);var n=e("input[name='thispage']").attr("value"),c=e("input[name='nextpage']").attr("value");0==n&&e(".quiz-menu-item.prev-quiz").addClass("disable"),-1==c&&e(".quiz-menu-item.next-quiz").addClass("disable");var s=e("#quiz-timer").clone();e(window).width()>576&&e("#quiz-timer").remove(),e(window).resize(function(){var i=getCookie("cookie"),t=e(window).width();t<=576&&"focusmod"==i?(e("#quiz-timer").remove(),e(".list-question-scroll").before(s)):t>576&&"focusmod"==i&&(e("#quiz-timer").remove(),e("#user-picture").after(s),e("#quiz-timer").next("div").children("div#quiz-timer").remove())}),e('.multichoice .answer input[type="radio"]').change(function(){var i=e(this).attr("name"),t=i.replace("q","");t=(t=t.replace(":","-")).replace("_answer",""),e((t="#question-"+t)+" div.r0").removeClass("active"),e(t+" div.r1").removeClass("active"),e(this).parent("div").addClass("active"),e('.clear-choice[name="'+i+'"]').remove();var a=e('<div class="clear-choice" name="'+i+'"><i class="fa fa-times" aria-hidden="true"></i></div>').insertAfter(e(this).next());setTimeout(function(){a.show()},300),e(".clear-choice").click(function(){var i=e(this).attr("name");e('.qtype_multichoice_clearchoice a[for="'+(i+="-1")+'"]').trigger("click"),e(this).parent().removeClass("active"),e(this).remove()})}),e('.multichoice .answer input[type="radio"]').each(function(){if(e(this).is(":checked")){e(this).parent("div").addClass("active");var i=e(this).attr("name"),t=e('<div class="clear-choice" name="'+i+'"><i class="fa fa-times" aria-hidden="true"></i></div>').insertAfter(e(this).next());setTimeout(function(){t.show()},300)}})})}}});