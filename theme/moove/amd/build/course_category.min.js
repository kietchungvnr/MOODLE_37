define(["jquery","core/config","core/str","core/notification"],function(e,a,t,o){"use strict";return{init:function(){e(".ajax-load").click(function(){e(".loading-page").addClass("active"),e("li").removeClass("active"),e(".courses_search_input").val(""),e(this).parents("li").addClass("active");var a={type:"GET",processData:!0,data:{id:e(this).attr("id")},contenttype:"application/json"};e.ajax("/course/load_course.php",a).then(function(a){e("#load-course").hide().html(a).fadeIn("fast"),e(".loading-page").removeClass("active")})}),e("#courses_search_button").click(function(){e(".loading-page").addClass("active");var a=e('.courses_search_input[name="keyword"]').val().trim().split(" ").join("+"),t=e('.courses_search_input[name="teacher"]').val().trim().split(" ").join("+"),o=e('.courses_search_input[name="category"]').val().trim().split(" ").join("+"),c=e("#course-filter :selected").val();e("li").removeClass("active"),e(".dropdown-menu-tree").slideUp(),e("#load-course").load("/course/load_course.php?keyword="+a+"&teacher="+t+"&category="+o+"&filter="+c,function(){e(".loading-page").removeClass("active")})});var a=e("#load-course").attr("category");void 0!==a?(e("#load-course").load("/course/load_course.php?id="+a),e("#drop-course-category .list-category[data="+a+"]").addClass("active")):e("#load-course").load("/course/load_course.php"),e(".list-category").click(function(){var a=e(this).attr("data");e(".list-category[data="+a+"] i").toggleClass("active"),e(".dropdown-menu-tree."+a).slideToggle()}),e(".list-subcategory").click(function(){var a=e(this).attr("id");e(".list-category#"+a).toggleClass("active"),e(".dropdown-menu-tree."+a).slideToggle()}),e(".checkall").click(function(){e("input.usercheckbox").prop("checked",this.checked)}),e("#course-filter").bind("change",function(){e(".loading-page").addClass("active"),e(".courses_search_input").val("");var a={type:"GET",processData:!0,data:{filter:e(this).val()},contenttype:"application/json"};e.ajax("/course/load_course.php",a).then(function(a){e("li").removeClass("active"),e(".dropdown-menu-tree").slideUp(),e("#load-course").hide().html(a).fadeIn("fast"),e(".loading-page").removeClass("active")})});var t={};e("#course-filter option").each(function(){t[this.value]&&e(this).remove(),t[this.value]=!0}),e("li.list-category").each(function(){e(this).parent(".dropdown-menu-tree").length&&e(this).css("background","transparent")})}}});