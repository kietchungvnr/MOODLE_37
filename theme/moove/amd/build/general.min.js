require.config({paths:{iframetracker:"/theme/moove/js/jquery.iframetracker"}}),define(["jquery","core/config","theme_moove/handle_cookie","iframetracker"],function(e,o,a,i){"use strict";if(e(window).on("load",function(){a.getCookie("spa")&&(document.cookie="spa=; max-Age=-1;path=/")}),window.onbeforeunload=function(){a.getCookie("baseUrl")&&(document.cookie="baseUrl=; max-Age=-1;path=/")},e("body").attr("id").includes("page-course-view")&&(e("body").addClass("loading"),e(document).ready(function(){e("body").removeClass("loading")})),!a.getCookie("baseUrl")){var n=window.location.pathname;["/course/view.php","/user/index.php","/badges/view.php","/admin/tool/lp/coursecompetencies.php","/grade/report/index.php","/contentbank/index.php"].includes(n)&&a.setCookie("baseUrl",window.location.href)}e("ul.nav-tabs.course li").click(function(o){e(this).addClass("active").siblings().removeClass("active"),a.setCookie("spa","true");var i=e(this).attr("data-page-url");if(i.includes("course/view.php")?e("#focus-mod.open-focusmod, #setting-context, #page-header .singlebutton").removeClass("d-none"):e("#focus-mod.open-focusmod, #setting-context, #page-header .singlebutton").addClass("d-none"),a.getCookie("baseUrl").includes(i))return e("#course-iframe").addClass("d-none"),void e("#region-main .card-body").removeClass("d-none");var n='<iframe id="course-iframe" class="card" src="'+i+'" frameBorder="0"></iframe>';e("#general-iframe-view-coursepage").html(n),e("#region-main .card-body").addClass("d-none"),e("#region-main .loading-page").addClass("active"),e("#course-iframe").on("load",function(){e("#course-iframe").iframeTracker({blurCallback:function(e){a.setCookie("spa","true")},outCallback:function(e,o){this._overId=null,document.cookie="spa=; max-Age=-1;path=/"},_overId:null}),e("#course-iframe").removeClass("d-none");iFrameResize({log:!1},"#course-iframe");e("#region-main .loading-page").removeClass("active")})})});