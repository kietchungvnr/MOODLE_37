define(["jquery","core/config","core/str","local_newsvnr/initkendogrid","alertjs","highcharts"],function(e,t,n,a,i,o){var l="#library-approval-module",r="#library-approval-module-db",c={},d={},s=t.wwwroot+"/local/newsvnr/ajax/library_online/library_approval_module.php",p=[{key:"type",component:"local_newsvnr"},{key:"size",component:"local_newsvnr"},{key:"timecreated",component:"local_newsvnr"},{key:"author",component:"local_newsvnr"},{key:"foldername",component:"local_newsvnr"},{key:"name",component:"local_newsvnr"},{key:"deletemodulesuccess",component:"local_newsvnr"},{key:"approvalmodulesuccess",component:"local_newsvnr"}];return{init:function(){n.get_strings(p).then(function(t){var n={url:s,type:"GET",dataType:"json",contentType:"application/json; charset=utf-8"},o=[{template:function(e){return e.name},field:"name",title:t[5],width:"200px"},{field:"type",title:t[0],width:"100px"},{field:"size",title:t[1],width:"100px"},{field:"timecreated",title:t[2],width:"120px"},{field:"author",title:t[3],width:"200px"},{field:"folder",title:t[4],width:"200px"}],p=[{template:function(e){return e.name},field:"name",title:t[5],width:"200px"},{field:"type",title:t[0],width:"100px"},{field:"timecreated",title:t[2],width:"120px"},{field:"author",title:t[3],width:"200px"}];c.columns=o,c.apiSettings=n,c.approvalModuleEvent=function(n){var a=e(l).data("kendoGrid");i.notify(t[7],"success",3),a.dataSource.read()},c.deleteModuleEvent=function(n){var a=e(l).data("kendoGrid");i.notify(t[6],"success",3),a.dataSource.read()};var u=a.initGrid(c);e(l).kendoGrid(u),d.columns=p,d.apiSettings=n,d.selectable=!1,d.approvalModuleEvent=function(n){var a=e(r).data("kendoGrid");i.notify(t[7],"success",3),a.dataSource.read()},d.deleteModuleEvent=function(n){var a=e(r).data("kendoGrid");i.notify(t[6],"success",3),a.dataSource.read()};var f=a.initGrid(d);e(r).kendoGrid(f)})},chart:function(){var n=t.wwwroot+"/local/newsvnr/ajax/library_online/library_chart.php";e.ajax(n,{type:"GET",dataType:"json",processData:!0,contentType:"application/json"}).then(function(t){e("#last-access").html(t.lastaccess),o.chart("access-chart",{chart:{type:"line",height:350},title:{text:""},subtitle:{text:""},xAxis:{categories:t.categories},yAxis:{title:{text:""}},credits:{enabled:!1},plotOptions:{line:{dataLabels:{enabled:!0},enableMouseTracking:!0}},series:[{name:"Lượt truy cập thư viện",data:t.series,color:"#ef4914"}]})})}}});