define(["jquery","core/config","core/str","core/notification"],function(e,a,t,i){"use strict";var n=window.location.href;function o(e){for(var a=e+"=",t=decodeURIComponent(document.cookie).split(";"),i=0;i<t.length;i++){for(var n=t[i];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(a))return n.substring(a.length,n.length)}return""}e(document).ready(function(){n.indexOf("course/view/")>0&&e("#sidepreopen-control").click()}),e(".open-focusmod").bind("click",function(){var a=o("cookie");e(this).attr("action");"focusmod"==a?(document.cookie="cookie=; max-Age=-1;path=/",e(".all-header,footer,#page-header").slideDown(),e("#focus-mod i").removeClass("fa-compress"),e(".navbar.focusmod").css("display","none"),e("ul.course").css("display","flex"),e("div#page-content").css("margin-top","0px")):(e("#sidepre-blocks").hasClass("closed")||e("#sidepreopen-control").click(),e("footer,.all-header,#page-header").slideUp(),e("#focus-mod i").addClass("fa-compress"),e(".navbar.focusmod").css("display","flex"),e("ul.course").css("display","none"),e("#page-content").css("margin-top","62px"),function(e,a,t){var i=new Date;i.setTime(i.getTime()+24*t*60*60*1e3);var n="expires="+i.toUTCString();document.cookie=e+"="+a+";"+n+";path=/"}("cookie","focusmod"))}),e(window).resize(function(){var a=o("cookie");e(window).width()<=950&&"focusmod"==a&&(document.cookie="cookie=; max-Age=-1;path=/",location.reload())}),e(".dropdown-content .card-header").click(function(){var a=e(this).attr("id");e(".card-header#"+a+" .rotate-icon").toggleClass("active"),e(".dropdown-content-2."+a).slideToggle("fast","swing")}),e(".nav-item.mid").click(function(){e(".dropdown-content").is(":empty")?alert("Không có nội dung"):e(".dropdown-content").slideToggle("fast","linear")}),e(".card-header.level2 a").each(function(){this.href===n&&(e(this).addClass("active"),e(this).parents("div.dropdown-content-2").addClass("active"))}),e(".nav-link.prev").click(function(){$temp=e(".card-header.level2 a.active").parents("div").prev(),$href=$temp.children("a").attr("href"),e(this).attr("href",$href)}),e(".nav-link.next").click(function(){$temp=e(".card-header.level2 a.active").parents("div").next(),$href=$temp.children("a").attr("href"),e(this).attr("href",$href)}),t.get_strings([{key:"general",component:"theme_moove"}]).then(function(a){""==e("div.card-header.level1:first-child() a").text()&&e("div.card-header.level1:first-child() a").append(a[0])}),e("div.card-header.level1").each(function(){var a=e(this).attr("id");e(".dropdown-content-2."+a).is(":empty")&&e(this).hide()}),e(".card-header.level2 a").hasClass("active")?(e(".card-header.level2 a.active").parents("div.level2").is(":first-child")&&e(".nav-link.prev").addClass("disable"),e(".card-header.level2 a.active").parents("div.level2").is(":last-child")&&e(".nav-link.next").addClass("disable")):e(".nav-link.next,.nav-link.prev").addClass("disable"),e(".card-header.level2 a").each(function(){e(this).attr("href").indexOf("/mod/url/")>0&&e(this).attr("target","_blank")})});