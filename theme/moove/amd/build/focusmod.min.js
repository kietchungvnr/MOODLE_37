define(["jquery","core/config","core/str","core/notification"],function(e,a,o,i){"use strict";var t=window.location.href;e(document).ready(function(){t.indexOf("course/view/")>0&&e("#sidepreopen-control").click()}),e(".open-focusmod").bind("click",function(){var o=getCookie("cookie"),i=e(this).attr("course"),t=a.wwwroot+"/course/view.php?id="+i;"focusmod"==o?(e("body").removeClass("focusmod"),window.location.href!=t&&window.location.replace(t),document.cookie="cookie=; max-Age=-1;path=/",e(".all-header,footer,#page-header").slideDown(),e(".navbar.focusmod").css("display","none"),e("ul.course").css("display","flex"),e("div#page-content").css("margin-top","0px")):(e("body").addClass("focusmod"),e("#sidepre-blocks").hasClass("closed")||e("#sidepreopen-control").click(),e("footer,.all-header,#page-header").slideUp(),e(".navbar.focusmod").css("display","flex"),e("ul.course").css("display","none"),e("#page-content").css("margin-top","62px"),setCookie("cookie","focusmod"))}),e(window).resize(function(){var a=getCookie("cookie");e(window).width()<=950&&"focusmod"==a&&(document.cookie="cookie=; max-Age=-1;path=/",location.reload())}),e(".dropdown-content .card-header").click(function(){var a=e(this).attr("id");e(".card-header#"+a+" .rotate-icon").toggleClass("active"),e(".dropdown-content-2."+a).slideToggle("fast","swing")}),e(".nav-item.mid").click(function(){e(".dropdown-content").is(":empty")?alert("Không có nội dung"):e(".dropdown-content").slideToggle("fast","linear")}),e(".card-header.level2 a").each(function(){this.href===t&&(e(this).addClass("active"),e(this).parents("div.dropdown-content-2").addClass("active"),e(".mid .nav-link.focusmod").html(e(this).text()+'<i class="fa fa-angle-down rotate-icon ml-2"></i>'))}),e(".nav-link.prev").click(function(){var a=e(".card-header.level2 a.active").parents("div").prev().children("a").attr("href");e(this).attr("href",a)}),e(".nav-link.next").click(function(){var a=e(".card-header.level2 a.active").parents("div").next().children("a").attr("href");e(this).attr("href",a)}),o.get_strings([{key:"general",component:"theme_moove"}]).then(function(a){""==e("div.card-header.level1:first-child() a").text()&&e("div.card-header.level1:first-child() a").append(a[0])}),e("div.card-header.level1").each(function(){var a=e(this).attr("id");e(".dropdown-content-2."+a).is(":empty")&&e(this).hide()}),e(".card-header.level2 a").hasClass("active")?(e(".card-header.level2 a.active").parents("div.level2").is(":first-child")&&e(".nav-link.prev").addClass("disable"),e(".card-header.level2 a.active").parents("div.level2").is(":last-child")&&e(".nav-link.next").addClass("disable")):e(".nav-link.next,.nav-link.prev").addClass("disable"),e(".card-header.level2 a").each(function(){e(this).attr("href").indexOf("/mod/url/")>0&&e(this).attr("target","_blank")})});