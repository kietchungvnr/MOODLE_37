define(["jquery","core/config","core/str","core/modal_factory","core/modal_events","core/notification","kendo.all.min"],function(e,o,n,t,i,r,a){"use strict";var d={},c=function(e){var o='<div class="d-block" id="qrConfig">';return o+='<div id="k-qrcode" class="qr-code"></div>',o+='<input type="text" value="'+e+'" class="form-control mb-2" maxlength="250" id="qrValue" data-bind="value: qrValue">',o+="<style>@media (min-width: 576px) {.modal-dialog { max-width: 350px !important; }} .modal-body { padding: 0!important;} </style>",o+="</div>"},l=function(o,n){e(document).ready(function(){var t=e("#k-qrcode").kendoQRCode({errorCorrection:"H",color:"#000000",size:285}).data("kendoQRCode");if(e("#k-help-qrcode").kendoTooltip({position:"bottom",content:n,width:344,animation:{open:{effects:"zoom",duration:150}}}),0!==e("#k-qrcode").lenght){var i=a.observable({qrValue:o,setValue:function(){t.value(this.qrValue)}});i.bind("change",function(e){"qrValue"==e.field&&(console.log(this),this.setValue())}),a.bind(e("#qrConfig"),i),i.setValue()}else r.exception(new Error("Not found QR code!"))})};return{init:function(e,o){!function(e){n.get_strings([{key:"qrcode",component:"theme_moove"},{key:"qrcode_help",component:"theme_moove"}]).then(function(o){t.create({type:t.types.DEFAULT,title:o[0]+'<i class="fa fa-info-circle ml-1" aria-hidden="true" id="k-help-qrcode"></i>',body:'<p class="text-center"><i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i></p>'}).done(function(n){d=n;var t=n.getRoot();t.on(i.hidden,function(){t.remove()}.bind(this)),n.setBody(c(e)),l(e,o[1]),d.show()})}).catch(function(){r.exception(new Error("Failed to load string: loading"))})}(o)}}});