define(["jquery","core/config","core/str","core/modal_factory","core/modal_events","core/notification","kendo.all.min"],function(o,e,t,n,i,c,r){"use strict";var d={};return{init:function(e,i){var r=!1;o(e).click(function(e){0==r?(r=!0,function(e){t.get_strings([{key:"qrcode",component:"theme_moove"},{key:"qrcode_help",component:"theme_moove"}]).then(function(t){n.create({type:n.types.DEFAULT,title:t[0]+'<i class="fa fa-info-circle ml-1" aria-hidden="true" id="k-help-qrcode"></i>',body:'<p class="text-center"><i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i></p>'}).done(function(n){d=n;var i='<div class="d-block">';i+='<div id="k-qrcode" class="qr-code"></div>',i+='<input type="text" value="'+e+'" class="form-control mb-2" id="text-qrcode" maxlength="250">',i+="<style>@media (min-width: 576px) {.modal-dialog { max-width: 350px !important; }} .modal-body { padding: 0!important;}</style>",i+="</div>",n.setBody(i),o(document).ready(function(){o("#k-qrcode").kendoQRCode({value:e,errorCorrection:"H",color:"#000000",size:285}),o("#k-help-qrcode").kendoTooltip({position:"bottom",content:t[1],width:344,animation:{open:{effects:"zoom",duration:150}}})}),o("#txt-qrcode").focus(),n.show()})}).catch(function(){c.exception(new Error("Failed to load string: loading"))})}(i)):d.show()})}}});