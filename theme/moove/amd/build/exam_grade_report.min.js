define(["jquery","kendo.all.min","core/config","core/notification","core/str"],function(e,t,a,r,i){return{init:function(){var t=a.wwwroot+"/local/newsvnr/exam/ajax/exam_grade_report.php?action=",r=a.wwwroot+"/local/newsvnr/exam/ajax/exam_grade_quiz_report.php?examtype=";e("#exam-required-input").kendoDropDownList({dataTextField:"name",dataValueField:"examid",autoBind:!1,filter:"contains",dataSource:{transport:{read:{url:t+"exam_filter_required",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",serverFiltering:!0}}}}),e("#subject-required-input").kendoDropDownList({cascadeFrom:"exam-required-input",dataTextField:"name",dataValueField:"id",autoBind:!1,filter:"contains",dataSource:{transport:{read:{url:t+"subject_filter_required",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",serverFiltering:!0}}}}),e("#exam-free-input").kendoDropDownList({dataTextField:"name",dataValueField:"examid",autoBind:!1,filter:"contains",dataSource:{transport:{read:{url:t+"exam_filter_free",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",serverFiltering:!0}}}}),e("#subject-free-input").kendoDropDownList({cascadeFrom:"exam-free-input",dataTextField:"name",dataValueField:"id",autoBind:!1,filter:"contains",dataSource:{transport:{read:{url:t+"subject_filter_free",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",serverFiltering:!0}}}});var i=a.wwwroot+"/grade/report/overview/index.php";window.location.href.indexOf(i)>=0&&(e.getJSON(r+"required",function(t){e("#exam-required-table").hide().html(t.result).fadeIn("fast")}),e.getJSON(r+"free",function(t){e("#exam-free-table").hide().html(t.result).fadeIn("fast")})),e("#filter_exam_required").click(function(){var t=e("#exam-required-input").val(),a=e("#subject-required-input").val();e.getJSON(r+"required&examid="+t+"&subjectid="+a,function(t){e("#exam-required-table").hide().html(t.result).fadeIn("fast")})}),e("#filter_exam_free").click(function(){var t=e("#exam-free-input").val(),a=e("#subject-free-input").val();e.getJSON(r+"free&examid="+t+"&subjectid="+a,function(t){e("#exam-free-table").hide().html(t.result).fadeIn("fast")})})}}});