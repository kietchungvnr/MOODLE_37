define(["jquery","core/config","core/str","local_newsvnr/initkendogrid","alertjs"],(e,n,t,o,a)=>{var i=n.wwwroot+"/blocks/vnr_db_courseinfo_management/ajax/studentinfo_management.php",r=n.wwwroot+"/blocks/vnr_db_courseinfo_management/ajax/listcourse.php",c=[{key:"number",component:"block_vnr_db_courseinfo_management"},{key:"teachercode",component:"block_vnr_db_courseinfo_management"},{key:"teachername",component:"block_vnr_db_courseinfo_management"},{key:"codecourse",component:"local_newsvnr"},{key:"coursename",component:"local_newsvnr"},{key:"finishdate",component:"block_vnr_db_courseinfo_management"},{key:"processfinish",component:"block_vnr_db_courseinfo_management"},{key:"grade",component:"block_vnr_db_courseinfo_management"},{key:"rank",component:"block_vnr_db_courseinfo_management"},{key:"coursejoin",component:"block_vnr_db_courseinfo_management"},{key:"courselist",component:"block_vnr_db_courseinfo_management"},{key:"lastaccess",component:"block_vnr_db_courseinfo_management"},{key:"gradeavg",component:"local_newsvnr"},{key:"finishmodulerate",component:"local_newsvnr"}],d=function(n){var a={};t.get_strings(c).then(function(t){var i={url:r,type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",data:{userid:n,role:3}},c=[{field:"usercode",title:t[1],width:"80px"},{field:"studentname",title:t[2],width:"100px"},{field:"courseid",title:t[3],width:"80px"},{field:"coursename",title:t[4],width:"150px"},{field:"avggrade",title:t[12],width:"100px"},{field:"finishmodulerate",title:t[13],width:"100px"}];e("#listcourse_teacher").data("kendoGrid")&&e("#listcourse_teacher").data("kendoGrid").destroy();a.selectable=!1,a.toolbar=["excel","search"],a.excel={fileName:"teacherinfo.xlsx",allPages:!0},a.columns=c,a.apiSettings=i;var d=o.initGrid(a);e("#listcourse_teacher").kendoGrid(d)})};return{init:function(){e('.nav-link[data-key="teacherinfo"]').click(function(){e("#teacherinfo_management").data("kendoGrid")&&e("#teacherinfo_management").data("kendoGrid").destroy();var n={};t.get_strings(c).then(function(t){var a={url:i,type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",data:{role:3}},r=[{field:"number",title:t[0],width:"50px"},{field:"usercode",title:t[1],width:"80px"},{template:function(e){return e.useravatar+"<a href='"+e.href+"' target='_blank'>"+e.name+"</a>"},field:"name",title:t[2],width:"200px"},{field:"lastaccess",title:t[11],width:"250px"},{field:"coursejoin",title:t[9],width:"100px"}];n.selectable=!1,n.toolbar=["excel","search"],n.excel={fileName:"teacherinfo.xlsx",allPages:!0},n.columns=r,n.apiSettings=a,n.viewCourseInfoPopupEvent=function(n){e("#windowteacher").kendoWindow({width:"1200px",title:t[10],visible:!1,open:function(e){d(n.userid),setPositionWindow("#windowteacher",100)},actions:["Minimize","Maximize","Close"]}),e("#windowteacher").data("kendoWindow").center().open()};var c=o.initGrid(n);e("#teacherinfo_management").kendoGrid(c)})})}}});