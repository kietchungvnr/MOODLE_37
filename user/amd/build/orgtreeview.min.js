define(["jquery","kendo.all.min","core/config","core/notification","core/str"],function(e,r,t,o,i){return{orgtreeview:function(){var r=!0;e("#id_orgstructureid").on("click",function(){if(1==r){var i=t.wwwroot+"/local/newsvnr/ajax.php";e.ajax(i,{type:"GET",processData:!0,data:{org_struct:1},contentType:"application/json"}).then(function(t){if(t.error)o.addNotification({message:t.error,type:"error"});else{void 0!==window.M.core_formchangechecker&&window.M.core_formchangechecker.reset_form_dirty_state();var i=JSON.parse(t),c=e("#treeview-orgstructure-user").kendoTreeView({dataSource:i}).data("kendoTreeView");e("#treeview-orgstructure-user").on("click",".k-item",function(){var r,t=c.select();t.length>0&&(r=c.dataItem(t)),r?(document.getElementById("id_orgstructureid").value=r.text,e("#id_orgstructureid").focus()):e("#log").text("Nothing selected"),e("#treeview-orgstructure-user").mouseleave(function(){e(this).hide(500)})})}r=!1}).fail(o.exception)}else e("#id_orgstructureid").on("click",function(){e("#treeview-orgstructure-user").show(500)})})}}});