define(["jquery","core/config","core/str","kendo.all.min"],function(o,n,e,t){var i=function(e){return new t.data.DataSource({transport:{read:e.apiSettings,parameterMap:function(e,t){if("read"==t)return e.filter&&(e.q=e.filter.filters[0].value),e}},pageSize:10,serverPaging:!0,serverFiltering:!0,serverSorting:!0,schema:{model:{id:"id",fields:{id:{type:"number"},name:{type:"string"}}},total:function(e){if(null!=e&&0<e.length)return e[0].total}}})};return{initGrid:function(l){var e,t,a,r;return eventArr=[],void 0===l.columns&&(l.columns=[]),l.selectData=function(e){for(var t=o("div[kendo-grid][k-options="+l.gridName+"]").getKendoGrid(),a=t.select(),r=[],n=0;n<a.length;n++)r.push(t.dataItem(a[n]));return r},l.selectId=function(e){for(var t=o("div[kendo-grid][k-options="+l.gridName+"]").getKendoGrid(),a=t.select(),r=[],n=0;n<a.length;n++)r.push(t.dataItem(a[n]).Id);return r},l.columns.unshift({selectable:!0,width:45}),null!=l.approvalModuleEvent&&(e={click:function(e){e.preventDefault();var t=this.dataItem(o(e.currentTarget).closest("tr")),a=n.wwwroot+"/local/newsvnr/ajax/library_online/library_approval_module_ajax.php?action=approval",r={type:"POST",processData:!0,data:{moduleid:t.id}};o.ajax(a,r).then(function(){}),l.approvalModuleEvent(t)},text:" ",name:"approval",iconClass:"fa fa-check"},eventArr.push(e)),null!=l.deleteModuleEvent&&(t={click:function(e){e.preventDefault();var t=this.dataItem(o(e.currentTarget).closest("tr")),a=n.wwwroot+"/local/newsvnr/ajax/library_online/library_approval_module_ajax.php?action=delete",r={type:"POST",processData:!0,data:{moduleid:t.id}};o.ajax(a,r).then(function(){}),l.deleteModuleEvent(t)},text:" ",name:"delete",iconClass:"fa fa-trash"},eventArr.push(t)),null!=l.editEvent&&(a={click:function(e){e.preventDefault();var t=this.dataItem(o(e.currentTarget).closest("tr"));l.editEvent(t)},text:" ",name:"edit",iconClass:"fa fa-pencil-square-o"},eventArr.push(a)),null!=l.deleteEvent&&(r={click:function(e){e.preventDefault();var t=this.dataItem(o(e.currentTarget).closest("tr"));l.deleteEvent(t)},text:" ",name:"delete",iconClass:"fa fa-trash-o"},eventArr.push(r)),l.columns.push({title:"Action",command:eventArr,width:100}),{dataSource:i(l),persistSelection:!0,groupable:!1,resizable:!0,toolbar:["search"],search:{fields:["name"]},pageable:{refresh:!0,pageSizes:[10,20,50,100],buttonCount:5},columns:l.columns,noRecords:{template:"No Records"}}}}});
