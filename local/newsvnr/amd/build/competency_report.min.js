define(["jquery","core/config","validatefm","local_newsvnr/initkendogrid","alertjs","core/str","kendo.all.min","local_newsvnr/initkendocontrolservices"],function(t,e,n,o,i,r,c,a){"use strict";let l="#competency_report",p={},u=e.wwwroot+"/local/newsvnr/report/ajax/competency_report.php";var s=function(e){var n={url:u,type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",data:e};p.toolbar=["excel"],p.excel={fileName:"competency_report.xlsx",allPages:!0},p.columns=[{template:function(t){return t.name},field:"name",title:"Tên học viên",width:"100px"},{field:"competencyname",title:"Năng lực",width:"100px"},{template:function(t){return t.activity},field:"activity",title:"Hoạt động",width:"100px"},{template:function(t){return t.coursename},field:"coursename",title:"Khóa học",width:"130px"},{field:"planname",title:"Kế hoạch học tập",width:"100px"},{template:function(t){return t.status},field:"status",title:"Trạng thái",width:"90px"},{field:"duedate",title:"Ngày hoàn thành",width:"80px"},{field:"reviewer",title:"Người đánh giá",width:"100px"}],p.apiSettings=n;var i=o.initGrid(p);t(l).data("kendoGrid")&&t(l).data("kendoGrid").destroy(),t(l).kendoGrid(i)};return{init:function(){s(),t("#searchorgs").click(function(){!function(t,e){s({action:"searchorgstructure",orgstructureid:t,positionid:e})}(t("#orgstructure").val(),t("#orgstructure_position").val())}),t("#searchaccount").click(function(){!function(t,e,n,o){s({action:"searchaccount",username:t,competency:e,competencyplan:n,course:o})}(t("#username").val(),t("#competency").val(),t("#competencyplan").val(),t("#course").val())}),t("#resettable").click(function(){s()}),t("#exporttable").click(function(){t(".k-grid-excel").click()})},kendoDropdown:function(){var e="/local/newsvnr/report/ajax/report_data.php?action=";(r={}).apiSettings={url:e+"get_competency"},r.value="value",r.optionLabel="Chọn năng lực";var n=a.initDropDownList(r);t("#competency").kendoDropDownList(n),(r={}).apiSettings={url:e+"get_competencyplan"},r.value="value",r.optionLabel="Chọn kế hoạch";n=a.initDropDownList(r);t("#competencyplan").kendoDropDownList(n),(r={}).apiSettings={url:e+"get_course"},r.value="value",r.optionLabel="Chọn khóa học";n=a.initDropDownList(r);t("#course").kendoDropDownList(n),(r={}).apiSettings={url:e+"get_orgstructure_category"},r.value="categoryid",r.optionLabel="Chọn loại phòng ban";var o=a.initDropDownList(r);t("#orgstructure_category").kendoDropDownList(o),(r={}).apiSettings={url:e+"get_orgstructure"},r.value="orgid",r.optionLabel="Chọn phòng ban",r.cascadeFrom="orgstructure_category";var i=a.initDropDownList(r);t("#orgstructure").kendoDropDownList(i),(r={}).apiSettings={url:e+"get_orgstructure_jobtitle"},r.value="jobtitleid",r.optionLabel="Chọn chức danh";var r,c=a.initDropDownList(r);t("#orgstructure_jobtitle").kendoDropDownList(c),(r={}).apiSettings={url:e+"get_orgstructure_position"},r.value="positionid",r.optionLabel="Chọn chức vụ",r.cascadeFrom="orgstructure_jobtitle";var l=a.initDropDownList(r);t("#orgstructure_position").kendoDropDownList(l)}}});