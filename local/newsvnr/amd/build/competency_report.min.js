define(["jquery","core/config","validatefm","local_newsvnr/initkendogrid","alertjs","core/str","kendo.all.min","local_newsvnr/initkendocontrolservices"],function(t,e,o,n,r,i,a,c){"use strict";let l="#competency_report",p={},s=e.wwwroot+"/local/newsvnr/report/ajax/competency_report.php";var u=function(e){var o={url:s,type:"GET",dataType:"json",contentType:"application/json; charset=utf-8",data:e};p.toolbar=["excel"],p.excel={fileName:"competency_report.xlsx",allPages:!0},p.columns=[{template:function(t){return t.useravatar+"<a href='"+t.userhref+"' target='_blank'>"+t.name+"</a>"},field:"name",title:"Tên học viên",width:"100px"},{field:"competencyname",title:"Năng lực",width:"100px"},{template:function(t){return t.activity},field:"activity",title:"Hoạt động",width:"100px"},{template:function(t){return"<a href='"+t.coursehref+"' target='_blank'>"+t.coursename+"</a>"},field:"coursename",title:"Khóa học",width:"130px"},{field:"planname",title:"Kế hoạch học tập",width:"100px"},{template:function(t){return"<span class='badge text-white "+t.classstatus+"  font-weight-bold rounded p-2'>"+t.status+"</span>"},field:"status",title:"Trạng thái",width:"90px"},{field:"timecompleted",title:"Ngày hoàn thành",width:"80px"},{field:"reviewer",title:"Người đánh giá",width:"100px"}],p.apiSettings=o;var r=n.initGrid(p);t(l).data("kendoGrid")&&t(l).data("kendoGrid").destroy(),t(l).kendoGrid(r)};return{init:function(){u(),t("#searchorgs").click(function(){!function(t,e){u({action:"searchorgstructure",orgstructureid:t,positionid:e})}(t("#orgstructure").val(),t("#orgstructure_position").val())}),t("#searchaccount").click(function(){!function(t,e,o,n){u({action:"searchaccount",username:t,competency:e,competencyplan:o,course:n})}(t("#username").val(),t("#competency").val(),t("#competencyplan").val(),t("#course").val())}),t("#resettable").click(function(){u()}),t("#exporttable").click(function(){t(".k-grid-excel").click()})},kendoDropdown:function(){var e="/local/newsvnr/report/ajax/report_data.php?action=";(a={}).apiSettings={url:e+"get_competency"},a.value="value",a.optionLabel="Chọn năng lực";var o=c.initDropDownList(a);t("#competency").kendoDropDownList(o),(a={}).apiSettings={url:e+"get_competencyplan"},a.value="value",a.optionLabel="Chọn kế hoạch";o=c.initDropDownList(a);t("#competencyplan").kendoDropDownList(o),(a={}).apiSettings={url:e+"get_course"},a.value="value",a.optionLabel="Chọn khóa học";o=c.initDropDownList(a);t("#course").kendoDropDownList(o),(a={}).apiSettings={url:e+"get_orgstructure_category"},a.value="categoryid",a.optionLabel="Chọn loại phòng ban";var n=c.initDropDownList(a);t("#orgstructure_category").kendoDropDownList(n),(a={}).apiSettings={url:e+"get_orgstructure"},a.value="orgid",a.optionLabel="Chọn phòng ban",a.cascadeFrom="orgstructure_category";var r=c.initDropDownList(a);t("#orgstructure").kendoDropDownList(r),(a={}).apiSettings={url:e+"get_orgstructure_jobtitle"},a.value="jobtitleid",a.optionLabel="Chọn chức danh";var i=c.initDropDownList(a);t("#orgstructure_jobtitle").kendoDropDownList(i),(a={}).apiSettings={url:e+"get_orgstructure_position"},a.value="positionid",a.optionLabel="Chọn chức vụ",a.cascadeFrom="orgstructure_jobtitle";var a,l=c.initDropDownList(a);t("#orgstructure_position").kendoDropDownList(l),(a={}).apiSettings={url:e+"get_report"},a.value="value",a.optionLabel="Chọn báo cáo";var p=c.initDropDownList(a);t("#report").kendoDropDownList(p)}}});