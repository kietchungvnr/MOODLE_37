define(["jquery","kendo.all.min","core/config","core/notification","dttable","core/str"],function(e,t,r,o,n,c){return{orgstructure:function(){var t=!0;e("#id_parentid").on("click",function(){if(1==t){var o=r.wwwroot+"/local/newsvnr/ajax.php";e.ajax(o,{type:"GET",processData:!0,data:{org_struct:1},contentType:"application/json"}).then(function(r){if(r.error);else{void 0!==window.M.core_formchangechecker&&window.M.core_formchangechecker.reset_form_dirty_state();var o=JSON.parse(r),n=e("#treeview-orgstructure").kendoTreeView({dataSource:o}).data("kendoTreeView");e("#treeview-orgstructure").on("click",".k-item",function(){var t,r=n.select();r.length>0&&(t=n.dataItem(r)),t?document.getElementById("id_parentid").value=t.text:e("#log").text("Nothing selected"),e("#treeview-orgstructure").mouseleave(function(){e(this).hide(500)})})}t=!1})}else e("#id_parentid").click(function(){e("#treeview-orgstructure").show(500)})})}}});