define(["jquery","kendo.all.min","core/config","core/notification","dttable","core/str"],function(e,t,n,i,l,o){return{orgmanager:function(){o.get_strings([{key:"action",component:"local_newsvnr"},{key:"catename",component:"local_newsvnr"},{key:"catecode",component:"local_newsvnr"},{key:"orgname",component:"local_newsvnr"},{key:"orgcode",component:"local_newsvnr"},{key:"orgcode",component:"local_newsvnr"},{key:"jobtitlename",component:"local_newsvnr"},{key:"jobtitlecode",component:"local_newsvnr"},{key:"posname",component:"local_newsvnr"},{key:"poscode",component:"local_newsvnr"},{key:"description",component:"local_newsvnr"},{key:"managerid",component:"local_newsvnr"},{key:"parentid",component:"local_newsvnr"},{key:"numbermargin",component:"local_newsvnr"},{key:"numbercurrent",component:"local_newsvnr"},{key:"namebylaw",component:"local_newsvnr"}]).then(function(t){var i=function(i,l){l||(l=[{field:"name",title:t[1],width:"500px"},{field:"code",title:t[2],width:"200px"},{template:function(e){return e.description},field:"description",title:t[10],width:"200px"},{template:function(e){return e.listbtn},field:"listbtn",title:t[0],width:"200px"}]);var o=n.wwwroot+"/local/newsvnr/ajax/orgdata.php?section="+i;grid=e("#showtable_data").kendoGrid({dataSource:{transport:{read:{url:o,dataType:"json",contentType:"application/json; charset=utf-8",type:"GET"},parameterMap:function(e,t){if("read"==t)return e.filter&&(e.q=e.filter.filters[0].value),e}},schema:{total:function(e){if(null!=e&&e.length>0)return e[0].total},model:{id:"code",fields:{name:{type:"string"},code:{type:"string"}}}},pageSize:10,serverPaging:!0,serverFiltering:!0,serverSorting:!0},toolbar:["search"],search:{fields:["name"]},sortable:!0,reorderable:!0,groupable:!1,resizable:!0,filterable:!0,columnMenu:!0,pageable:{refresh:!0,pageSizes:!0,buttonCount:5},columns:l}).data("kendoGrid")},l=!1;e('[data-region="orgmanager-page"] button').click(function(n){0==l&&i("orgcate_list"),l=!0;var o=[{field:"name",title:t[1],width:300},{field:"code",title:t[2],width:150},{template:function(e){return e.description},field:"description",title:t[10]},{template:function(e){return e.listbtn},field:"listbtn",title:t[0],width:100}],r=[{field:"name",title:t[3],width:300},{field:"code",title:t[4],width:150},{field:"orgcatename",title:t[1],width:150},{field:"managername",title:t[11],width:150},{field:"parentname",title:t[12],width:150},{field:"numbermargin",title:t[13],width:100},{field:"numbercurrent",title:t[14],width:100},{template:function(e){return e.description},field:"description",title:t[10]},{template:function(e){return e.listbtn},field:"listbtn",title:t[0],width:100}],a=[{field:"name",title:t[2],width:300},{field:"code",title:t[3],width:150},{field:"namebylaw",title:t[15],width:150},{template:function(e){return e.description},field:"description",title:t[10]},{template:function(e){return e.listbtn},field:"listbtn",title:t[0],width:100}],d=[{field:"name",title:t[2],width:300},{field:"code",title:t[3],width:150},{field:"namebylaw",title:t[15],width:150},{field:"orgjobtitlename",title:t[7],width:150},{field:"orgstructurename",title:t[3],width:150},{template:function(e){return e.description},field:"description",title:t[10]},{template:function(e){return e.listbtn},field:"listbtn",title:t[0],width:100}],c=n.target.id,s="";"orgcate_list"===c&&(s=o),"orgstructure_list"===c&&(s=r),"orgjobtitle_list"===c&&(s=a),"orgposition_list"===c&&(s=d),grid.destroy(),e("#showtable_data").empty(),i(c,s)})})}}});